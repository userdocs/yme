"use strict";(self.webpackChunkqbt_static_docs=self.webpackChunkqbt_static_docs||[]).push([[717],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>c});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},b=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=s(n),b=r,c=u["".concat(p,".").concat(b)]||u[b]||m[b]||l;return n?a.createElement(c,i(i({ref:t},d),{},{components:n})):a.createElement(c,i({ref:t},d))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=b;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[u]="string"==typeof e?e:r,i[1]=o;for(var s=2;s<l;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},6631:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>k,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var a=n(7462),r=(n(7294),n(3905));const l={title:"Build Help",hide_title:!0},i=void 0,o={unversionedId:"build-help",id:"build-help",title:"Build Help",description:"Once the script has successfully configured the platform you can execute the help switch to see how it works and what options you have available to you.",source:"@site/docs/build-help.md",sourceDirName:".",slug:"/build-help",permalink:"/yme/docs/build-help",draft:!1,editUrl:"https://github.com/userdocs/qbittorrent-nox-static/tree/master/docs/build-help.md",tags:[],version:"current",frontMatter:{title:"Build Help",hide_title:!0},sidebar:"qtb_sidebar",previous:{title:"Script Usage",permalink:"/yme/docs/script-usage"},next:{title:"Patching",permalink:"/yme/docs/patching"}},p={},s=[{value:"ENV settings",id:"env-settings",level:3},{value:"Switches and flags summarised",id:"switches-and-flags-summarised",level:3},{value:"Build - default profile",id:"build---default-profile",level:3},{value:"Build - modules (optional and mostly for debugging and testing)",id:"build---modules-optional-and-mostly-for-debugging-and-testing",level:3},{value:"Build - paths",id:"build---paths",level:3}],d=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",t)},u=d("Advanced"),m=d("Tabs"),b=d("TabItem"),c={toc:s},h="wrapper";function k(e){let{components:t,...n}=e;return(0,r.kt)(h,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)(u,{mdxType:"Advanced"}),(0,r.kt)("p",null,"Once the script has successfully configured the platform you can execute the help switch to see how it works and what options you have available to you."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"bash ~/qbittorrent-nox-static.sh -h\n")),(0,r.kt)("h3",{id:"env-settings"},"ENV settings"),(0,r.kt)("p",null,"The script has some ",(0,r.kt)("inlineCode",{parentName:"p"},"env")," settings that can trigger certain behaviour."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("inlineCode",{parentName:"p"},"export")," the variables listed below when you use them in your local env.#")),(0,r.kt)("p",null,"You can export these before you run the script to set them. There is not specific benefit to using these over the flags and switches."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Build variable"),(0,r.kt)("th",{parentName:"tr",align:null},"Default if unset"),(0,r.kt)("th",{parentName:"tr",align:null},"Options"),(0,r.kt)("th",{parentName:"tr",align:null},"example usage"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"libtorrent_version")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"2.0")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1.2")," ",(0,r.kt)("inlineCode",{parentName:"td"},"2.0")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"export libtorrent_version=2.0"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"qbt_qt_version")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"6.3")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"5.12")," ",(0,r.kt)("inlineCode",{parentName:"td"},"5.15")," ",(0,r.kt)("inlineCode",{parentName:"td"},"6.3")," ",(0,r.kt)("inlineCode",{parentName:"td"},"6.3.1")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"export qbt_qt_version=6.3"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"qbt_build_tool")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"qmake")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"cmake")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"export qbt_build_tool=cmake"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"qbt_cross_name")),(0,r.kt)("td",{parentName:"tr",align:null},"empty = ",(0,r.kt)("inlineCode",{parentName:"td"},"unset")," (default to OS gcc)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"x86_64")," ",(0,r.kt)("inlineCode",{parentName:"td"},"aarch64")," ",(0,r.kt)("inlineCode",{parentName:"td"},"armv7")," ",(0,r.kt)("inlineCode",{parentName:"td"},"armhf")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"export qbt_cross_name=aarch64"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"qbt_patches_url")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"userdocs/qbittorrent-nox-static")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"username/repo")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"export qbt_patches_url=userdocs/qbittorrent-nox-static"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"qbt_workflow_files")),(0,r.kt)("td",{parentName:"tr",align:null},"empty = ",(0,r.kt)("inlineCode",{parentName:"td"},"unset")," (defaults to no)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"yes")," ",(0,r.kt)("inlineCode",{parentName:"td"},"no")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"export qbt_workflow_files=yes"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"qbt_libtorrent_master_jamfile")),(0,r.kt)("td",{parentName:"tr",align:null},"empty = ",(0,r.kt)("inlineCode",{parentName:"td"},"unset")," (defaults to no)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"yes")," ",(0,r.kt)("inlineCode",{parentName:"td"},"no")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"export qbt_libtorrent_master_jamfile=yes"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"qbt_optimise_strip")),(0,r.kt)("td",{parentName:"tr",align:null},"empty = ",(0,r.kt)("inlineCode",{parentName:"td"},"unset")," (defaults to no)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"yes")," ",(0,r.kt)("inlineCode",{parentName:"td"},"no")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"export qbt_optimise_strip=yes"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"qbt_build_debug")),(0,r.kt)("td",{parentName:"tr",align:null},"empty = ",(0,r.kt)("inlineCode",{parentName:"td"},"unset")," (defaults to no)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"yes")," ",(0,r.kt)("inlineCode",{parentName:"td"},"no")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"export qbt_build_debug=yes"))))),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"If you see more variables in the script but they are not listed here they are Github Action specific configured by workflows.")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"If you set ",(0,r.kt)("inlineCode",{parentName:"p"},"qbt_build_tool=cmake")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"qt_version=6.2")," with the switch ",(0,r.kt)("inlineCode",{parentName:"p"},"-qm")," you can build against QT6.")),(0,r.kt)("h3",{id:"switches-and-flags-summarised"},"Switches and flags summarised"),(0,r.kt)("p",null,"All switches and flags have a supporting help option that will provide dynamic content where applicable."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"--boot-strap-release")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"--boot-strap-multi-arch")," options are specific to GitHub actions but if you read ",(0,r.kt)("inlineCode",{parentName:"p"},"--help-boot-strap-release")," you can see how to trigger ",(0,r.kt)("inlineCode",{parentName:"p"},"aarch64|armv7")," builds on your local system using Alpine/Debian/Ubuntu via docker.")),(0,r.kt)(u,{mdxType:"Advanced"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-none"},' Here are a list of available options\n\nUse: -b or --build-directory Help: -h-b or --help-build-directory\nUse: -bv or --boost-version Help: -h-bv or --help-boost-version\nUse: -c or --cmake Help: -h-c or --help-cmake\nUse: -d or --debug Help: -h-d or --help-debug\nUse: -bs or --boot-strap Help: -h-bs or --help-boot-strap\nUse: -bs-c or --boot-strap-cmake Help: -h-bs-c or --help-boot-strap-cmake\nUse: -bs-r or --boot-strap-release Help: -h-bs-r or --help-boot-strap-release\nUse: -bs-ma or --boot-strap-multi-arch Help: -h-bs-ma or --help-boot-strap-multi-arch\nUse: -bs-a or --boot-strap-all Help: -h-bs-a or --help-boot-strap-all\nUse: -i or --icu Help: -h-i or --help-icu\nUse: -lm or --libtorrent-master Help: -h-lm or --help-libtorrent-master\nUse: -lt or --libtorrent-tag Help: -h-lt or --help-libtorrent-tag\nUse: -m or --master Help: -h-m or --help-master\nUse: -ma or --multi-arch Help: -h-ma or --help-multi-arch\nUse: -n or --no-delete Help: -h-n or --help-no-delete\nUse: -o or --optimize Help: -h-o or --help-optimize\nUse: -p or --proxy Help: -h-p or --help-proxy\nUse: -pr or --patch-repo Help: -h-pr or --help-patch-repo\nUse: -qm or --qbittorrent-master Help: -h-qm or --help-qbittorrent-master\nUse: -qt or --qbittorrent-tag Help: -h-qt or --help-qbittorrent-tag\nUse: -s or --strip Help: -h-s or --help-strip\n\nModule specific help - flags are used with the modules listed here.\n\nUse: all or module-name Usage: ~/qbittorrent-nox-static.sh all -i\n\nall ---------------- optional Recommended method to install all modules\ninstall ------------ optional Install the ~/qbt-build/completed/qbittorrent-nox binary\nbison -------------- required Build bison\ngawk --------------- required Build gawk\nglibc -------------- required Build libc locally to statically link nss\nzlib --------------- required Build zlib locally\niconv -------------- required Build iconv locally\nicu ---------------- optional Build ICU locally\nopenssl ------------ required Build openssl locally\nboost -------------- required Download, extract and build the boost library files\nlibtorrent --------- required Build libtorrent locally\ndouble_conversion -- required A cmakke + Qt6 build compenent on modern OS only.\nqtbase ------------- required Build qtbase locally\nqttools ------------ required Build qttools locally\nqbittorrent -------- required Build qbittorrent locally\n\nenv help - supported exportable evironment variables\n\nexport qbt_libtorrent_version="" - options 1.2 2.0\nexport qbt_qt_version="" --------- options 5,5.15,6,6.2,6.3 and so on\nexport qbt_build_tool="" --------- options qmake cmake\nexport qbt_cross_name="" --------- options aarch64 armv7 armhf\nexport qbt_patches_url="" -------- options userdocs/qbittorrent-nox-static or usee your full/shorthand github repo\nexport qbt_workflow_files="" ----- options yes no - use qbt-workflow-files repo for dependencies - custom tags will override\nexport qbt_optimise_strip="" ----- options yes no - strip binaries to reduce file size - cannot be used with debug\nexport qbt_build_debug="" -------- options yes no - create a full debug build for use with gdb - cannot be used with strip\n\nCurrrent settings\n\nqbt_libtorrent_version="2.0"\nqbt_qt_version="5"\nqbt_build_tool="qmake"\nqbt_cross_name=""\nqbt_patches_url="userdocs/qbittorrent-nox-static"\nqbt_workflow_files="no"\nqbt_libtorrent_master_jamfile="no"\nqbt_optimise_strip="no"\nqbt_build_debug="no"\n\n'))),(0,r.kt)("p",null,"For example, taking the ",(0,r.kt)("inlineCode",{parentName:"p"},"-h-bs")," switch as an example, it will show different results based on the preceding switches provided:"),(0,r.kt)(m,{mdxType:"Tabs"},(0,r.kt)(b,{value:"Help -h-bs",label:"\ud83d\udd39-h-bs",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"}," Here is the help description for this flag:\n\n Creates dirs in this structure: ~/qbt-build/patches/APPNAME/TAG/patch\n\n Add your patches there, for example.\n\n ~/qbt-build/patches/libtorrent/1.2.18/patch\n\n ~/qbt-build/patches/qbittorrent/4.5.0/patch\n"))),(0,r.kt)(b,{value:"Help -qm -lm -h-bs",label:"\ud83d\udd39-qm -lm -h-bs",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"}," Here is the help description for this flag:\n\n Creates dirs in this structure: ~/qbt-build/patches/APPNAME/TAG/patch\n\n Add your patches there, for example.\n\n ~/qbt-build/patches/libtorrent/RC_1_2/patch\n\n ~/qbt-build/patches/qbittorrent/master/patch\n"))),(0,r.kt)(b,{value:"Help -qt release-4.2.5 -lt v2.0.3 -h-bs",label:"\ud83d\udd39-qt release-4.2.5 -lt v2.0.3 -h-bs",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"Here is the help description for this flag:\n\nCreates dirs in this structure: ~/qbt-build/patches/APPNAME/TAG/patch\n\nAdd your patches there, for example.\n\n~/qbt-build/patches/libtorrent/2.0.3/patch\n\n~/qbt-build/patches/qbittorrent/4.2.5/patch\n")))),(0,r.kt)("h3",{id:"build---default-profile"},"Build - default profile"),(0,r.kt)("p",null,"Install all default modules (ICU is skipped) and build ",(0,r.kt)("inlineCode",{parentName:"p"},"qbittorrent-nox")," to the default build directory ",(0,r.kt)("inlineCode",{parentName:"p"},"qbt-build/compelted"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"bash ~/qbittorrent-nox-static.sh all\n")),(0,r.kt)("h3",{id:"build---modules-optional-and-mostly-for-debugging-and-testing"},"Build - modules (optional and mostly for debugging and testing)"),(0,r.kt)("p",null,"You can build modules individually, subject to this warning."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"It's best to consider all individual modules listed below as being dependent on the previous modules being built for that module to build successfully.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"bash ~/qbittorrent-nox-static.sh module\n")),(0,r.kt)("p",null,"Here are the list of supported modules:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"bison (Debian based only)\ngawk (Debian based only)\nglibc (Debian based only)\nzlib (default)\niconv (default)\nicu (default)\nopenssl (default)\nboost (default)\ndouble_conversion (default for Qt6 on a modern OS - Bullseye / Jammy)\nqtbase (default)\nqttools (default)\nlibtorrent (default)\nqbittorrent (default)\n")),(0,r.kt)("h3",{id:"build---paths"},"Build - paths"),(0,r.kt)("p",null,"By default the script will built to a hard coded path defined by the scripts ",(0,r.kt)("inlineCode",{parentName:"p"},"$install_dir")," variable as to avoid installing files to a server and causing conflicts."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"This path is relative to the scripts location.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"qbt-build\n")),(0,r.kt)("p",null,"You can modify this dynamically with the ",(0,r.kt)("inlineCode",{parentName:"p"},"-b")," argument"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"-b")," must be used in all commands provided to the script or default ",(0,r.kt)("inlineCode",{parentName:"p"},"qbt-build")," will be used instead.")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"-b")," flag accepts both full ",(0,r.kt)("inlineCode",{parentName:"p"},"/opt")," and relative ",(0,r.kt)("inlineCode",{parentName:"p"},"opt")," paths.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'bash ~/qbittorrent-nox-static.sh all -b "/opt"\n')))}k.isMDXComponent=!0}}]);