"use strict";(self.webpackChunkqbt_static_docs=self.webpackChunkqbt_static_docs||[]).push([[128],{2214:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>a});var s=n(5893),t=n(1151);const o={title:"Introduction",hide_title:!0},r=void 0,l={id:"introduction",title:"Introduction",description:"What is it?",source:"@site/docs/introduction.md",sourceDirName:".",slug:"/introduction",permalink:"/yme/docs/introduction",draft:!1,unlisted:!1,editUrl:"https://github.com/userdocs/qbittorrent-nox-static/tree/master/docs/introduction.md",tags:[],version:"current",frontMatter:{title:"Introduction",hide_title:!0},sidebar:"qtb_sidebar",next:{title:"Prerequisite Check list",permalink:"/yme/docs/Prerequisites"}},d={},a=[{value:"What is it?",id:"what-is-it",level:3},{value:"What does it do?",id:"what-does-it-do",level:3},{value:"What is the outcome",id:"what-is-the-outcome",level:3},{value:"How do I use it?",id:"how-do-i-use-it",level:3}];function c(e){const i={a:"a",admonition:"admonition",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...e.components},{Advanced:n,TabItem:o,Tabs:r,Tips:l}=i;return n||u("Advanced",!0),o||u("TabItem",!0),r||u("Tabs",!0),l||u("Tips",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n,{}),"\n",(0,s.jsx)(i.h3,{id:"what-is-it",children:"What is it?"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"qbittorrent-nox-static.sh"})," was originally a simple, amateurish bash script, to build a static ",(0,s.jsx)(i.code,{children:"qbittorrent-nox"})," binary for ",(0,s.jsx)(i.code,{children:"x86_64"}),". The script has grown and evolved since then and now it's a complicated bash script."]}),"\n",(0,s.jsx)(i.p,{children:"It handles a lot of the nuanced complexity around building various different dependencies on two different host platforms, towards the same outcome, whilst targeting these architectures:"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"armel"})," - ",(0,s.jsx)(i.code,{children:"armhf"})," - ",(0,s.jsx)(i.code,{children:"armv7"})," - ",(0,s.jsx)(i.code,{children:"aarch64"})," - ",(0,s.jsx)(i.code,{children:"x86_64"})," - ",(0,s.jsx)(i.code,{children:"x86"})," - ",(0,s.jsx)(i.code,{children:"s390x"})," - ",(0,s.jsx)(i.code,{children:"powerpc"})," - ",(0,s.jsx)(i.code,{children:"ppc64el"})," - ",(0,s.jsx)(i.code,{children:"mips"})," - ",(0,s.jsx)(i.code,{children:"mipsel"})," - ",(0,s.jsx)(i.code,{children:"mips64"})," - ",(0,s.jsx)(i.code,{children:"mips64el"})," - ",(0,s.jsx)(i.code,{children:"riscv64"})]}),"\n",(0,s.jsxs)(i.p,{children:["This is done using ",(0,s.jsxs)(l,{children:["Debian crossbuild essentials",":crossbuild-essentials"]})," or ",(0,s.jsxs)(l,{children:["Musl Cross make toolchains",":musl-cross-make"]}),", depending on the host build platform."]}),"\n",(0,s.jsxs)(i.p,{children:["Taking advantage of ",(0,s.jsxs)(l,{children:["Github Workflows",":github-workflows"]})," it has been designed to easily forked and reused. Fork it, customise it and build and release your own binaries."]}),"\n",(0,s.jsx)(i.admonition,{title:"The hard part is done.",type:"tip",children:(0,s.jsxs)(i.p,{children:["You always have a easy method available to you to build your own releases, simply by forking the repo and using the available workflows. How to do this will be shown in the ",(0,s.jsxs)(l,{children:["Github Actions",":github-actions"]})," sections later on. You can build locally or fork the repo and build and release using CI where the git repo acts as a local environment to the script."]})}),"\n",(0,s.jsx)(i.h3,{id:"what-does-it-do",children:"What does it do?"}),"\n",(0,s.jsxs)(i.p,{children:["Simply put, on supported host build platforms the ",(0,s.jsx)(i.code,{children:"qbittorrent-nox-static.sh"})," will perform these three main tasks:"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Update the system and install the core build dependencies based on activated options - Requires root privileges if any dependencies are missing."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["Download and build the ",(0,s.jsx)(i.code,{children:"qbittorrent-nox"})," dependencies locally with no special privileges required."]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["Build a fully static and portable ",(0,s.jsx)(i.code,{children:"qbittorrent-nox"})," binary which automatically uses the latest version of all supported dependencies."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"The more advanced features will be discussed in their relevant sections."}),"\n",(0,s.jsx)(i.h3,{id:"what-is-the-outcome",children:"What is the outcome"}),"\n",(0,s.jsx)(i.p,{children:"\ud83d\udd35 Here is an example successful default build profile:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-none",children:"qBittorrent 4.5.1 was built with the following libraries:\r\n\r\nQt: 6.5.0\r\nLibtorrent: 2.0.8\r\nBoost: 1.81.0\r\nOpenSSL: 3.1.0\r\nzlib: 1.2.13.zlib-ng\n"})}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsxs)(o,{value:"Debian based Linux",label:"\ud83d\udd39 debian",default:!0,children:[(0,s.jsxs)(i.p,{children:["The script creates a fully static ",(0,s.jsx)(i.code,{children:"qbittorrent-nox"})," binary using ",(0,s.jsx)(i.a,{href:"https://www.gnu.org/software/libc/",children:"libc"})]}),(0,s.jsxs)(i.p,{children:["The final result will show this when using ",(0,s.jsx)(i.code,{children:"ldd"})]}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"ldd ~/qbt-build/bin/qbittorrent-nox\n"})}),(0,s.jsx)(i.p,{children:"Gives this result:"}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"not a dynamic executable\n"})})]}),(0,s.jsxs)(o,{value:"Alpine linux",label:"\ud83d\udd39 alpine",children:[(0,s.jsxs)(i.p,{children:["The script creates a fully static ",(0,s.jsx)(i.code,{children:"qbittorrent-nox"})," binary using ",(0,s.jsx)(i.a,{href:"https://wiki.musl-libc.org/",children:"musl"})]}),(0,s.jsxs)(i.p,{children:["The final result will show this when using ",(0,s.jsx)(i.code,{children:"ldd"})]}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"ldd ~/qbt-build/bin/qbittorrent-nox\n"})}),(0,s.jsx)(i.p,{children:"Gives this result:"}),(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"statically linked\n"})})]})]}),"\n",(0,s.jsx)(i.p,{children:"The script can do a lot of helpful things to make building and deploying a fully static qBittorrent binary about as easy as it's going to get."}),"\n",(0,s.jsx)(i.h3,{id:"how-do-i-use-it",children:"How do I use it?"}),"\n",(0,s.jsxs)(i.p,{children:["The script can be downloaded locally and run on a supported host or via docker. It has a comprehensive help section built in, available via the ",(0,s.jsx)(i.code,{children:"-h"})," flag, that explains all options and demonstrates dynamic command choices."]}),"\n",(0,s.jsx)(i.admonition,{type:"tip",children:(0,s.jsx)(i.p,{children:"The best thing to do is read the script installation and usage sections to understand the key features and how to user them."})}),"\n",(0,s.jsx)(n,{children:(0,s.jsxs)(i.admonition,{type:"caution",children:[(0,s.jsxs)(i.p,{children:["Certain build combinations require ",(0,s.jsx)(i.code,{children:"qemu"})," and ",(0,s.jsx)(i.code,{children:"binfmts"})," on the host to complete successfully."]}),(0,s.jsxs)(i.p,{children:["It's highly recommend that you use a ",(0,s.jsx)(i.code,{children:"qemu"})," + ",(0,s.jsx)(i.code,{children:"binfmts"})," + ",(0,s.jsx)(i.code,{children:"Docker"})," to build on a local host machine with no issues"]})]})})]})}function h(e={}){const{wrapper:i}={...(0,t.a)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}function u(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},1151:(e,i,n)=>{n.d(i,{Z:()=>l,a:()=>r});var s=n(7294);const t={},o=s.createContext(t);function r(e){const i=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(o.Provider,{value:i},e.children)}}}]);